2022-03-05 11:04:42,049 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 11:04:48,225 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "/usr/lib/python3/dist-packages/paramiko/util.py", line 283, in retry_on_signal
    return function()
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 957, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 10.10.10.103:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 95, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 10.10.10.103

2022-03-05 11:04:48,226 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'backup_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_backup.py", line 13, in backup_configs
    config_result = task.run(task=napalm_get, getters=["config"])
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 11:07:02,745 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 11:07:07,765 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "/usr/lib/python3/dist-packages/paramiko/util.py", line 283, in retry_on_signal
    return function()
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 957, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 10.10.10.103:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 95, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 10.10.10.103

2022-03-05 11:07:07,766 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'backup_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_backup.py", line 13, in backup_configs
    config_result = task.run(task=napalm_get, getters=["config"])
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 11:14:41,553 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 11:14:46,577 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in connect
    retry_on_signal(lambda: sock.connect(addr))
  File "/usr/lib/python3/dist-packages/paramiko/util.py", line 283, in retry_on_signal
    return function()
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 349, in <lambda>
    retry_on_signal(lambda: sock.connect(addr))
TimeoutError: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 957, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.ssh_exception.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 10.10.10.103:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 95, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 10.10.10.103

2022-03-05 11:14:46,578 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'backup_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_backup.py", line 21, in backup_configs
    config_result = task.run(task=napalm_get, getters=["config"])
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 11:18:59,728 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 11:24:55,160 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 11:25:04,335 -  nornir.core -     INFO -        run() - Running task 'startup_configs' with args {} on 10 hosts
2022-03-05 11:42:46,642 -  nornir.core -     INFO -        run() - Running task 'arch' with args {} on 10 hosts
2022-03-05 11:42:46,937 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'send_configs_from_file' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/tasks/core/send_configs_from_file.py", line 58, in send_configs_from_file
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/connection.py", line 98, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/scrapli/driver/base/sync_driver.py", line 86, in open
    self.channel.channel_authenticate_ssh(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 276, in decorate
    return self._multiprocessing_timeout(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 337, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 438, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 390, in __get_result
    raise self._exception
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/sync_channel.py", line 291, in channel_authenticate_ssh
    self._ssh_message_handler(output=authenticate_buf)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/base_channel.py", line 280, in _ssh_message_handler
    raise ScrapliAuthenticationFailed(msg)
scrapli.exceptions.ScrapliAuthenticationFailed: Host key verification failed

2022-03-05 11:42:46,938 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'arch' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_pusharch.py", line 12, in arch
    task.run(task=send_configs_from_file, file="napalm-archive.txt")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: send_configs_from_file (failed)


2022-03-05 11:45:05,484 -  nornir.core -     INFO -        run() - Running task 'arch' with args {} on 10 hosts
2022-03-05 11:45:05,951 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'send_configs_from_file' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/tasks/core/send_configs_from_file.py", line 58, in send_configs_from_file
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/connection.py", line 98, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/scrapli/driver/base/sync_driver.py", line 86, in open
    self.channel.channel_authenticate_ssh(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 276, in decorate
    return self._multiprocessing_timeout(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 337, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 438, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 390, in __get_result
    raise self._exception
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/sync_channel.py", line 291, in channel_authenticate_ssh
    self._ssh_message_handler(output=authenticate_buf)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/base_channel.py", line 280, in _ssh_message_handler
    raise ScrapliAuthenticationFailed(msg)
scrapli.exceptions.ScrapliAuthenticationFailed: Host key verification failed

2022-03-05 11:45:05,952 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'arch' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_pusharch.py", line 12, in arch
    task.run(task=send_configs_from_file, file="napalm-archive.txt")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: send_configs_from_file (failed)


2022-03-05 11:54:29,147 -  nornir.core -     INFO -        run() - Running task 'replace_config' with args {} on 10 hosts
2022-03-05 11:54:47,383 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied


%The input file is not a valid config file.


2022-03-05 11:54:47,384 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:54:47,927 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied


%The input file is not a valid config file.


2022-03-05 11:54:47,928 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:54:57,586 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:54:57,587 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:54:59,613 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:54:59,613 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:54:59,795 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:54:59,796 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:55:01,292 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:55:01,293 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:55:02,799 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:55:02,799 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:55:04,628 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:55:04,628 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:55:04,960 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:55:04,960 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:55:08,822 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:55:08,823 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure,
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:35,594 -  nornir.core -     INFO -        run() - Running task 'replace_config' with args {} on 10 hosts
2022-03-05 11:57:38,861 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.107:22


Authentication failed.

2022-03-05 11:57:38,862 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.104:22


Authentication failed.

2022-03-05 11:57:38,862 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.101:22


Authentication failed.

2022-03-05 11:57:38,863 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.105:22


Authentication failed.

2022-03-05 11:57:38,863 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.103:22


Authentication failed.

2022-03-05 11:57:38,864 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.108:22


Authentication failed.

2022-03-05 11:57:38,869 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,865 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.106:22


Authentication failed.

2022-03-05 11:57:38,865 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.112:22


Authentication failed.

2022-03-05 11:57:38,870 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,867 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,867 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,868 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,868 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,864 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.102:22


Authentication failed.

2022-03-05 11:57:38,869 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,870 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,866 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 29, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.113:22


Authentication failed.

2022-03-05 11:57:38,872 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:38,874 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:57:55,048 -  nornir.core -     INFO -        run() - Running task 'replace_config' with args {} on 10 hosts
2022-03-05 11:58:09,722 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

%The input file is not a valid config file.


2022-03-05 11:58:09,725 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:10,359 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied


%The input file is not a valid config file.


2022-03-05 11:58:10,360 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:16,751 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:16,752 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:17,390 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:58:17,391 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:19,639 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:19,640 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:20,352 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:20,353 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:22,105 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:22,524 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:22,678 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

  

%The input file is not a valid config file.


2022-03-05 11:58:22,678 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:24,377 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:24,378 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 11:58:26,310 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
  

%The input file is not a valid config file.


2022-03-05 11:58:26,310 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"./startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:04,818 -  nornir.core -     INFO -        run() - Running task 'replace_config' with args {} on 10 hosts
2022-03-05 12:00:34,260 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 561, in commit_config
    output += self.device.save_config()
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 36, in save_config
    return super().save_config(
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco_base_connection.py", line 246, in save_config
    output = self.send_command(
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: CSR1\#

2022-03-05 12:00:34,261 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:34,809 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 561, in commit_config
    output += self.device.save_config()
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 36, in save_config
    return super().save_config(
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco_base_connection.py", line 246, in save_config
    output = self.send_command(
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: CSR2\#

2022-03-05 12:00:34,810 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:41,140 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:41,140 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:41,847 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:41,847 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:41,904 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:41,904 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:43,968 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:43,968 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:44,036 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:44,036 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:44,519 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:44,519 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:46,258 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:46,258 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:00:49,357 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:00:49,358 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 16, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:08,002 -  nornir.core -     INFO -        run() - Running task 'replace_config' with args {} on 10 hosts
2022-03-05 12:02:34,156 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 542, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: napalm-ios replace() requires Cisco 'archive' feature to be enabled.

2022-03-05 12:02:34,158 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:37,274 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:37,275 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:39,259 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:39,259 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:40,108 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:40,108 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:40,132 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:40,132 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:40,830 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:40,830 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:41,355 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:41,356 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:02:45,648 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:02:45,649 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_config' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 14, in replace_config
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:05:29,898 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:05:52,869 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 519, in commit_config
    self._gen_rollback_cfg()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 725, in _gen_rollback_cfg
    self.device.send_command_expect(cmd)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: R1\#

2022-03-05 12:05:52,869 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:05:54,658 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 542, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: napalm-ios replace() requires Cisco 'archive' feature to be enabled.

2022-03-05 12:05:54,658 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:05:56,008 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 542, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: napalm-ios replace() requires Cisco 'archive' feature to be enabled.

2022-03-05 12:05:56,008 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:05:59,118 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:05:59,118 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:06:01,064 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:06:01,065 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:06:01,774 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:06:01,775 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:06:01,951 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:06:02,301 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:06:02,797 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:06:02,798 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"running_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:08:06,332 -  nornir.core -     INFO -        run() - Running task 'backup_configurations' with args {} on 10 hosts
2022-03-05 12:09:39,276 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:10:16,162 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:10:16,163 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:10:17,572 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:10:17,573 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:10:17,829 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:10:17,843 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:10:18,718 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:10:18,718 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:10:19,914 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:10:19,915 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:04,435 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:12:22,318 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 542, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: napalm-ios replace() requires Cisco 'archive' feature to be enabled.

2022-03-05 12:12:22,319 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:33,411 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:12:33,412 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:34,404 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:12:34,406 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:36,358 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:12:36,358 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:37,296 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:12:37,297 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:12:38,876 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:12:38,877 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:17:07,390 -  nornir.core -     INFO -        run() - Running task 'arch' with args {} on 10 hosts
2022-03-05 12:17:07,857 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'send_configs_from_file' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/tasks/core/send_configs_from_file.py", line 58, in send_configs_from_file
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/connection.py", line 98, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/scrapli/driver/base/sync_driver.py", line 86, in open
    self.channel.channel_authenticate_ssh(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 276, in decorate
    return self._multiprocessing_timeout(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 337, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 438, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 390, in __get_result
    raise self._exception
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/sync_channel.py", line 291, in channel_authenticate_ssh
    self._ssh_message_handler(output=authenticate_buf)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/base_channel.py", line 280, in _ssh_message_handler
    raise ScrapliAuthenticationFailed(msg)
scrapli.exceptions.ScrapliAuthenticationFailed: Host key verification failed

2022-03-05 12:17:07,858 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'arch' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_pusharch.py", line 12, in arch
    task.run(task=send_configs_from_file, file="napalm-archive.txt")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: send_configs_from_file (failed)


2022-03-05 12:19:20,997 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:19:36,721 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 35, in napalm_configure
    diff = device.compare_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 422, in compare_config
    diff = self.device.send_command_expect(cmd)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: R1\#

2022-03-05 12:19:36,722 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:19:52,274 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:19:52,275 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:19:54,435 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:19:54,435 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:19:55,624 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:19:55,657 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:19:56,207 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:19:56,206 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:19:59,271 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:19:59,271 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:20:04,130 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:20:04,131 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:20:06,131 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:20:06,131 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:20:55,375 -  nornir.core -     INFO -        run() - Running task 'arch' with args {} on 10 hosts
2022-03-05 12:20:55,680 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'send_configs_from_file' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/tasks/core/send_configs_from_file.py", line 58, in send_configs_from_file
    scrapli_conn = task.host.get_connection("scrapli", task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/usr/lib/python3.10/dist-packages/nornir_scrapli/connection.py", line 98, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/scrapli/driver/base/sync_driver.py", line 86, in open
    self.channel.channel_authenticate_ssh(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 276, in decorate
    return self._multiprocessing_timeout(
  File "/usr/lib/python3.10/dist-packages/scrapli/decorators.py", line 337, in _multiprocessing_timeout
    return future.result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 438, in result
    return self.__get_result()
  File "/usr/lib/python3.10/concurrent/futures/_base.py", line 390, in __get_result
    raise self._exception
  File "/usr/lib/python3.10/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/sync_channel.py", line 291, in channel_authenticate_ssh
    self._ssh_message_handler(output=authenticate_buf)
  File "/usr/lib/python3.10/dist-packages/scrapli/channel/base_channel.py", line 280, in _ssh_message_handler
    raise ScrapliAuthenticationFailed(msg)
scrapli.exceptions.ScrapliAuthenticationFailed: Host key verification failed

2022-03-05 12:20:55,681 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'arch' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_pusharch.py", line 12, in arch
    task.run(task=send_configs_from_file, file="napalm-archive.txt")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: send_configs_from_file (failed)


2022-03-05 12:21:52,567 -  nornir.core -     INFO -        run() - Running task 'backup_configurations' with args {} on 10 hosts
2022-03-05 12:22:21,431 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:22:52,814 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:22:52,815 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:22:54,073 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:22:54,073 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:22:54,590 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:22:54,591 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:22:55,201 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:22:55,202 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:34:28,611 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:34:58,007 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:34:58,008 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:34:58,822 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:34:58,823 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:34:59,676 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:34:59,677 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:35:03,917 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:35:03,917 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:42:36,942 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 12:43:08,528 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 561, in commit_config
    output += self.device.save_config()
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 36, in save_config
    return super().save_config(
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco_base_connection.py", line 246, in save_config
    output = self.send_command(
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: CSR2\#

2022-03-05 12:43:08,529 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:43:09,066 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 561, in commit_config
    output += self.device.save_config()
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 36, in save_config
    return super().save_config(
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco_base_connection.py", line 246, in save_config
    output = self.send_command(
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: CSR1\#

2022-03-05 12:43:09,066 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:43:15,060 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:43:15,061 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:43:18,156 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:43:18,156 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 12:43:19,982 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 531, in commit_config
    output = self._commit_handler(cmd)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 470, in wrapper
    return f(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 487, in _commit_handler
    output = self.device.send_command_expect(cmd, expect_string=patterns)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: (?:[>##]\s*$|.*all username.*confirm)

2022-03-05 12:43:19,983 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:41:48,353 -  nornir.core -     INFO -        run() - Running task 'backup_configurations' with args {} on 10 hosts
2022-03-05 13:45:39,889 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 13:45:57,986 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

Failed to apply command   no 	quit
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-45-56.205-4 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:45:57,988 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:45:59,542 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
Failed to apply command  certificate ca 01
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-45-57.526-4 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:45:59,543 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:46:03,442 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 35, in napalm_configure
    diff = device.compare_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 422, in compare_config
    diff = self.device.send_command_expect(cmd)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1582, in send_command_expect
    return self.send_command(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/utilities.py", line 500, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 1535, in send_command
    raise IOError(
OSError: Search pattern never detected in send_command: R1\#

2022-03-05 13:46:03,443 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:48:41,920 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 13:48:55,681 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
Failed to apply command   no 	quit
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-48-54.458-5 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:48:55,681 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:48:58,464 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

Failed to apply command  certificate ca 01
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-48-56.817-5 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:48:58,465 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:51:14,120 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 13:51:30,749 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied

Failed to apply command   no 	quit
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-51-29.261-6 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:51:30,750 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:51:30,837 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied
Failed to apply command  certificate ca 01
Aborting Rollback.

Rollback failed.Reverting back to the original configuration: bootflash:archive-Mar--5-13-51-29.744-6 ...

Total number of passes: 0
Rollback Done

The original configuration has been successfully restored.


2022-03-05 13:51:30,838 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 13, in replace_configs
    task.run(task=napalm_configure, filename=f"backup-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 13:54:07,226 -  nornir.core -     INFO -        run() - Running task 'backup_configurations' with args {} on 10 hosts
2022-03-05 13:54:30,344 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 14:08:50,741 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 14:08:59,426 -  nornir.core -     INFO -        run() - Running task 'startup_configs' with args {} on 10 hosts
2022-03-05 14:13:35,247 -  nornir.core -     INFO -        run() - Running task 'backup_configs' with args {} on 10 hosts
2022-03-05 14:13:44,533 -  nornir.core -     INFO -        run() - Running task 'startup_configs' with args {} on 10 hosts
2022-03-05 14:15:11,183 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 14:16:53,824 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 14:17:11,225 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied


%The input file is not a valid config file.


2022-03-05 14:17:11,226 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 15, in replace_configs
    task.run(task=napalm_configure, filename=f"startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 14:19:08,183 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 14:19:20,995 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 39, in napalm_configure
    device.commit_config()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 539, in commit_config
    raise ReplaceConfigException(msg)
napalm.base.exceptions.ReplaceConfigException: Candidate config could not be applied


%The input file is not a valid config file.


2022-03-05 14:19:20,996 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_configs' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_replace.py", line 15, in replace_configs
    task.run(task=napalm_configure, filename=f"startup_configs-directory/{task.host}.txt", replace=True)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2022-03-05 14:21:55,288 -  nornir.core -     INFO -        run() - Running task 'replace_configs' with args {} on 10 hosts
2022-03-05 14:57:46,146 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 14:57:46,149 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R1.yaml'

2022-03-05 14:57:46,149 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R2.yaml'

2022-03-05 14:57:46,150 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R3.yaml'

2022-03-05 14:57:46,151 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,154 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R7.yaml'

2022-03-05 14:57:46,152 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,153 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,153 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R5.yaml'

2022-03-05 14:57:46,152 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R4.yaml'

2022-03-05 14:57:46,161 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,156 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R6.yaml'

2022-03-05 14:57:46,163 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,159 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/CSR1.yaml'

2022-03-05 14:57:46,164 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,155 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,163 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,158 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/R8.yaml'

2022-03-05 14:57:46,159 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'load_yaml' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/usr/lib/python3.10/dist-packages/nornir_utils/plugins/tasks/data/load_yaml.py", line 24, in load_yaml
    with open(file, "r") as f:
FileNotFoundError: [Errno 2] No such file or directory: './host_vars/CSR2.yaml'

2022-03-05 14:57:46,165 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 14:57:46,165 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 55, in replace_vrf
    data = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: load_yaml (failed)


2022-03-05 15:03:08,108 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:03:12,467 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:12,468 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:13,256 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:13,256 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:14,801 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:14,802 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:15,866 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:15,867 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:16,043 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:16,044 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:16,074 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:16,075 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:16,230 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:16,231 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:16,434 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:16,434 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:16,883 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:16,884 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:03:17,056 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'Buildling Routing Configuration' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 997, in get_template
    return self._load_template(name, globals)
  File "/usr/lib/python3.10/dist-packages/jinja2/environment.py", line 958, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/usr/lib/python3.10/dist-packages/jinja2/loaders.py", line 214, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: vrf.j2

2022-03-05 15:03:17,056 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 18, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 67, in replace_vrf
    load_template = task.run(
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: Buildling Routing Configuration (failed)


2022-03-05 15:05:27,921 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:05:28,776 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,778 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,780 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,781 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,782 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,784 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,785 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,786 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,788 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,788 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,789 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,790 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,791 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,801 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,802 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,802 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,803 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,804 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 765, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

2022-03-05 15:05:28,805 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:05:28,808 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'replace_feature' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/feature.py", line 13, in replace_feature
    config = replace_vrf(task)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_task.py", line 61, in replace_vrf
    config = task.run(task=napalm_get, getters=["config"], severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_get (failed)


2022-03-05 15:06:40,934 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:08:59,487 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:10:13,589 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:11:59,054 -  nornir.core -     INFO -        run() - Running task 'replace_feature' with args {} on 10 hosts
2022-03-05 15:16:43,416 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 10 hosts
2022-03-05 15:16:43,418 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,419 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,420 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,420 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,420 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,421 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,423 - nornir.core.task -    ERROR -      start() - Host 'R7': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,424 - nornir.core.task -    ERROR -      start() - Host 'R8': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,424 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:16:43,424 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'get_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/napalm_validate.py", line 15, in get_test
    task.run(task-napalm_get, getters=["get_facts"])
TypeError: unsupported operand type(s) for -: 'Task' and 'function'

2022-03-05 15:17:07,502 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 10 hosts
2022-03-05 15:30:40,803 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:32:12,851 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:32:13,584 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 21, in _get_validation_file
    validation_source = yaml.safe_load(stream)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 162, in safe_load
    return load(stream, SafeLoader)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 114, in load
    return loader.get_single_data()
  File "/usr/lib/python3/dist-packages/yaml/constructor.py", line 49, in get_single_data
    node = self.get_single_node()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 64, in compose_node
    if self.check_event(AliasEvent):
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 449, in parse_block_mapping_value
    if not self.check_token(KeyToken, ValueToken, BlockEndToken):
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 116, in check_token
    self.fetch_more_tokens()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 243, in fetch_more_tokens
    return self.fetch_folded()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 638, in fetch_folded
    self.fetch_block_scalar(style='>')
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 649, in fetch_block_scalar
    self.tokens.append(self.scan_block_scalar(style))
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 989, in scan_block_scalar
    chomping, increment = self.scan_block_scalar_indicators(start_mark)
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 1087, in scan_block_scalar_indicators
    raise ScannerError("while scanning a block scalar", start_mark,
yaml.scanner.ScannerError: while scanning a block scalar
  in "validate_R1.yaml", line 16, column 13
expected chomping or indentation indicators, but found '0'
  in "validate_R1.yaml", line 16, column 15

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 23, in _get_validation_file
    raise ValidationException(exc)
napalm.base.exceptions.ValidationException: while scanning a block scalar
  in "validate_R1.yaml", line 16, column 13
expected chomping or indentation indicators, but found '0'
  in "validate_R1.yaml", line 16, column 15

2022-03-05 15:32:13,585 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate.py", line 15, in validate_test
    task.run(task=napalm_validate, src=f"validate_{task.host}.yaml")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 15:32:49,548 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:34:16,645 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:34:17,326 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 21, in _get_validation_file
    validation_source = yaml.safe_load(stream)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 162, in safe_load
    return load(stream, SafeLoader)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 114, in load
    return loader.get_single_data()
  File "/usr/lib/python3/dist-packages/yaml/constructor.py", line 49, in get_single_data
    node = self.get_single_node()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 58, in compose_document
    self.get_event()
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 118, in get_event
    self.current_event = self.state()
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 193, in parse_document_end
    token = self.peek_token()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 129, in peek_token
    self.fetch_more_tokens()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 223, in fetch_more_tokens
    return self.fetch_value()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 577, in fetch_value
    raise ScannerError(None, None,
yaml.scanner.ScannerError: mapping values are not allowed here
  in "validate_R1.yaml", line 3, column 12

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 23, in _get_validation_file
    raise ValidationException(exc)
napalm.base.exceptions.ValidationException: mapping values are not allowed here
  in "validate_R1.yaml", line 3, column 12

2022-03-05 15:34:17,327 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate.py", line 15, in validate_test
    task.run(task=napalm_validate, src=f"validate_{task.host}.yaml")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 15:35:10,670 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:38:01,004 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 1 hosts
2022-03-05 15:52:19,154 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:53:48,825 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:53:49,705 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 19, in _get_validation_file
    with open(validation_file, "r") as stream:
FileNotFoundError: [Errno 2] No such file or directory: 'validate_bgp_R1.yaml'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 25, in _get_validation_file
    raise ValidationException("File {0} not found.".format(validation_file))
napalm.base.exceptions.ValidationException: File validate_bgp_R1.yaml not found.

2022-03-05 15:53:49,706 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 15, in validate_test
    task.run(task=napalm_validate, src=f"validate_bgp_{task.host}.yaml")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 15:54:33,785 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 15:58:56,275 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:00:21,059 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:00:23,489 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 935, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 435, in connect
    self._auth(
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 764, in _auth
    raise saved_exception
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 751, in _auth
    self._transport.auth_password(username, password)
  File "/usr/lib/python3/dist-packages/paramiko/transport.py", line 1509, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/usr/lib/python3/dist-packages/paramiko/auth_handler.py", line 250, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 29, in napalm_validate
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/usr/lib/python3.10/dist-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/usr/lib/python3.10/dist-packages/napalm/ios/ios.py", line 169, in open
    self.device = self._netmiko_open(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 86, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/usr/lib/python3.10/dist-packages/netmiko/ssh_dispatcher.py", line 326, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/cisco/cisco_ios.py", line 17, in __init__
    return super().__init__(*args, **kwargs)
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 350, in __init__
    self._open()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 355, in _open
    self.establish_connection()
  File "/usr/lib/python3.10/dist-packages/netmiko/base_connection.py", line 972, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.ssh_exception.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 10.10.10.101:22


Authentication failed.

2022-03-05 16:00:23,489 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 15, in validate_test
    task.run(task=napalm_validate, src=f"validate_BGP_{task.host}.yaml")
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 16:01:54,084 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:02:27,940 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:03:38,583 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:04:55,508 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:05:36,823 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:08:13,800 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 1 hosts
2022-03-05 16:13:06,524 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:15:48,167 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:15:48,861 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 19, in _get_validation_file
    with open(validation_file, "r") as stream:
FileNotFoundError: [Errno 2] No such file or directory: 'validate-R1.yaml'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 25, in _get_validation_file
    raise ValidationException("File {0} not found.".format(validation_file))
napalm.base.exceptions.ValidationException: File validate-R1.yaml not found.

2022-03-05 16:15:48,862 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 10, in validate_test
    result = task.run(task=napalm_validate, src=f"validate-{task.host}.yaml", severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 16:17:58,533 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:17:59,276 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 19, in _get_validation_file
    with open(validation_file, "r") as stream:
FileNotFoundError: [Errno 2] No such file or directory: 'validate-R1.yaml'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 25, in _get_validation_file
    raise ValidationException("File {0} not found.".format(validation_file))
napalm.base.exceptions.ValidationException: File validate-R1.yaml not found.

2022-03-05 16:17:59,277 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 11, in validate_test
    result = task.run(task=napalm_validate, src=f"validate-{task.host}.yaml", severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 16:19:17,225 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:24:57,076 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:26:10,068 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:26:10,752 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 21, in _get_validation_file
    validation_source = yaml.safe_load(stream)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 162, in safe_load
    return load(stream, SafeLoader)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 114, in load
    return loader.get_single_data()
  File "/usr/lib/python3/dist-packages/yaml/constructor.py", line 49, in get_single_data
    node = self.get_single_node()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 127, in compose_mapping_node
    while not self.check_event(MappingEndEvent):
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 438, in parse_block_mapping_key
    raise ParserError("while parsing a block mapping", self.marks[-1],
yaml.parser.ParserError: while parsing a block mapping
  in "validate_BGP_R1.yaml", line 6, column 7
expected <block end>, but found '<block mapping start>'
  in "validate_BGP_R1.yaml", line 67, column 8

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 23, in _get_validation_file
    raise ValidationException(exc)
napalm.base.exceptions.ValidationException: while parsing a block mapping
  in "validate_BGP_R1.yaml", line 6, column 7
expected <block end>, but found '<block mapping start>'
  in "validate_BGP_R1.yaml", line 67, column 8

2022-03-05 16:26:10,753 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 11, in validate_test
    result = task.run(task=napalm_validate, src=f"validate_BGP_{task.host}.yaml", severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 16:26:56,040 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:28:15,670 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:29:28,684 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 1 hosts
2022-03-05 16:33:43,492 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:33:44,366 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_validate' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 21, in _get_validation_file
    validation_source = yaml.safe_load(stream)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 162, in safe_load
    return load(stream, SafeLoader)
  File "/usr/lib/python3/dist-packages/yaml/__init__.py", line 114, in load
    return loader.get_single_data()
  File "/usr/lib/python3/dist-packages/yaml/constructor.py", line 49, in get_single_data
    node = self.get_single_node()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 36, in get_single_node
    document = self.compose_document()
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 55, in compose_document
    node = self.compose_node(None, None)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 82, in compose_node
    node = self.compose_sequence_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 111, in compose_sequence_node
    node.value.append(self.compose_node(node, index))
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 133, in compose_mapping_node
    item_value = self.compose_node(node, item_key)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 84, in compose_node
    node = self.compose_mapping_node(anchor)
  File "/usr/lib/python3/dist-packages/yaml/composer.py", line 127, in compose_mapping_node
    while not self.check_event(MappingEndEvent):
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 98, in check_event
    self.current_event = self.state()
  File "/usr/lib/python3/dist-packages/yaml/parser.py", line 428, in parse_block_mapping_key
    if self.check_token(KeyToken):
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 116, in check_token
    self.fetch_more_tokens()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 223, in fetch_more_tokens
    return self.fetch_value()
  File "/usr/lib/python3/dist-packages/yaml/scanner.py", line 577, in fetch_value
    raise ScannerError(None, None,
yaml.scanner.ScannerError: mapping values are not allowed here
  in "validate_BGP_R1.yaml", line 84, column 16

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/.local/lib/python3.10/site-packages/nornir_napalm/plugins/tasks/napalm_validate.py", line 30, in napalm_validate
    r = device.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/base.py", line 1747, in compliance_report
    return validate.compliance_report(
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 205, in compliance_report
    validation_source = _get_validation_file(validation_file)
  File "/usr/lib/python3.10/dist-packages/napalm/base/validate.py", line 23, in _get_validation_file
    raise ValidationException(exc)
napalm.base.exceptions.ValidationException: mapping values are not allowed here
  in "validate_BGP_R1.yaml", line 84, column 16

2022-03-05 16:33:44,380 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'validate_test' failed with traceback:
Traceback (most recent call last):
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/geordie/Nornir-automation/backup_scripts/test-validate-BGP.py", line 11, in validate_test
    result = task.run(task=napalm_validate, src=f"validate_BGP_{task.host}.yaml", severity_level=logging.DEBUG)
  File "/usr/lib/python3.10/dist-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_validate (failed)


2022-03-05 16:35:15,031 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:37:06,459 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:39:48,607 -  nornir.core -     INFO -        run() - Running task 'get_test' with args {} on 1 hosts
2022-03-05 16:48:37,337 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:51:09,606 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:53:48,874 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:54:07,540 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 16:54:52,272 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
2022-03-05 17:00:08,378 -  nornir.core -     INFO -        run() - Running task 'validate_test' with args {} on 1 hosts
